import{c as ce,r as w,R as Oe,t as rt,j as o,a as W,T as it,S as nt,F as at,I as ot,X as ct,C as ke,E as Fe,D as lt,b as ut,B as Ie,d as ht,e as he,f as dt,g as ft,h as pt,i as gt,k as mt}from"./index-BRncQS-0.js";const je=ce("CircleSlash",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9",key:"1dfufj"}]]);const xt=ce("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const _t=ce("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);const bt=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function H(s){return Array.isArray?Array.isArray(s):We(s)==="[object Array]"}function At(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function wt(s){return s==null?"":At(s)}function P(s){return typeof s=="string"}function $e(s){return typeof s=="number"}function vt(s){return s===!0||s===!1||yt(s)&&We(s)=="[object Boolean]"}function Pe(s){return typeof s=="object"}function yt(s){return Pe(s)&&s!==null}function T(s){return s!=null}function de(s){return!s.trim().length}function We(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const Ct="Incorrect 'index' type",Et=s=>`Invalid value for key ${s}`,Nt=s=>`Pattern length exceeds max of ${s}.`,kt=s=>`Missing ${s} property in key`,Ft=s=>`Property 'weight' in key '${s}' must be a positive integer`,De=Object.prototype.hasOwnProperty;class jt{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(r=>{let i=He(r);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(r=>{r.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function He(s){let e=null,t=null,r=null,i=1,n=null;if(P(s)||H(s))r=s,e=Me(s),t=ge(s);else{if(!De.call(s,"name"))throw new Error(kt("name"));const a=s.name;if(r=a,De.call(s,"weight")&&(i=s.weight,i<=0))throw new Error(Ft(a));e=Me(a),t=ge(a),n=s.getFn}return{path:e,id:t,weight:i,src:r,getFn:n}}function Me(s){return H(s)?s:s.split(".")}function ge(s){return H(s)?s.join("."):s}function Dt(s,e){let t=[],r=!1;const i=(n,a,c)=>{if(T(n))if(!a[c])t.push(n);else{let u=a[c];const d=n[u];if(!T(d))return;if(c===a.length-1&&(P(d)||$e(d)||vt(d)))t.push(wt(d));else if(H(d)){r=!0;for(let f=0,m=d.length;f<m;f+=1)i(d[f],a,c+1)}else a.length&&i(d,a,c+1)}};return i(s,P(e)?e.split("."):e,0),r?t:t[0]}const Mt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Lt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},St={location:0,threshold:.6,distance:100},Bt={useExtendedSearch:!1,getFn:Dt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var g={...Lt,...Mt,...St,...Bt};const zt=/[^ ]+/g;function Rt(s=1,e=3){const t=new Map,r=Math.pow(10,e);return{get(i){const n=i.match(zt).length;if(t.has(n))return t.get(n);const a=1/Math.pow(n,.5*s),c=parseFloat(Math.round(a*r)/r);return t.set(n,c),c},clear(){t.clear()}}}class ye{constructor({getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){this.norm=Rt(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,P(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();P(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!T(e)||de(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((i,n)=>{let a=i.getFn?i.getFn(e):this.getFn(e,i.path);if(T(a)){if(H(a)){let c=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:d,value:f}=u.pop();if(T(f))if(P(f)&&!de(f)){let m={v:f,i:d,n:this.norm.get(f)};c.push(m)}else H(f)&&f.forEach((m,l)=>{u.push({nestedArrIndex:l,value:m})})}r.$[n]=c}else if(P(a)&&!de(a)){let c={v:a,n:this.norm.get(a)};r.$[n]=c}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Ke(s,e,{getFn:t=g.getFn,fieldNormWeight:r=g.fieldNormWeight}={}){const i=new ye({getFn:t,fieldNormWeight:r});return i.setKeys(s.map(He)),i.setSources(e),i.create(),i}function Tt(s,{getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){const{keys:r,records:i}=s,n=new ye({getFn:e,fieldNormWeight:t});return n.setKeys(r),n.setIndexRecords(i),n}function ne(s,{errors:e=0,currentLocation:t=0,expectedLocation:r=0,distance:i=g.distance,ignoreLocation:n=g.ignoreLocation}={}){const a=e/s.length;if(n)return a;const c=Math.abs(r-t);return i?a+c/i:c?1:a}function Ot(s=[],e=g.minMatchCharLength){let t=[],r=-1,i=-1,n=0;for(let a=s.length;n<a;n+=1){let c=s[n];c&&r===-1?r=n:!c&&r!==-1&&(i=n-1,i-r+1>=e&&t.push([r,i]),r=-1)}return s[n-1]&&n-r>=e&&t.push([r,n-1]),t}const J=32;function It(s,e,t,{location:r=g.location,distance:i=g.distance,threshold:n=g.threshold,findAllMatches:a=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,includeMatches:u=g.includeMatches,ignoreLocation:d=g.ignoreLocation}={}){if(e.length>J)throw new Error(Nt(J));const f=e.length,m=s.length,l=Math.max(0,Math.min(r,m));let p=n,x=l;const v=c>1||u,A=v?Array(m):[];let C;for(;(C=s.indexOf(e,x))>-1;){let k=ne(e,{currentLocation:C,expectedLocation:l,distance:i,ignoreLocation:d});if(p=Math.min(k,p),x=C+f,v){let j=0;for(;j<f;)A[C+j]=1,j+=1}}x=-1;let _=[],N=1,E=f+m;const S=1<<f-1;for(let k=0;k<f;k+=1){let j=0,R=E;for(;j<R;)ne(e,{errors:k,currentLocation:l+R,expectedLocation:l,distance:i,ignoreLocation:d})<=p?j=R:E=R,R=Math.floor((E-j)/2+j);E=R;let O=Math.max(1,l-R+1),X=a?m:Math.min(l+R,m)+f,K=Array(X+2);K[X+1]=(1<<k)-1;for(let D=X;D>=O;D-=1){let B=D-1,Z=t[s.charAt(B)];if(v&&(A[B]=+!!Z),K[D]=(K[D+1]<<1|1)&Z,k&&(K[D]|=(_[D+1]|_[D])<<1|1|_[D+1]),K[D]&S&&(N=ne(e,{errors:k,currentLocation:B,expectedLocation:l,distance:i,ignoreLocation:d}),N<=p)){if(p=N,x=B,x<=l)break;O=Math.max(1,2*l-x)}}if(ne(e,{errors:k+1,currentLocation:l,expectedLocation:l,distance:i,ignoreLocation:d})>p)break;_=K}const z={isMatch:x>=0,score:Math.max(.001,N)};if(v){const k=Ot(A,c);k.length?u&&(z.indices=k):z.isMatch=!1}return z}function $t(s){let e={};for(let t=0,r=s.length;t<r;t+=1){const i=s.charAt(t);e[i]=(e[i]||0)|1<<r-t-1}return e}const ae=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class Ve{constructor(e,{location:t=g.location,threshold:r=g.threshold,distance:i=g.distance,includeMatches:n=g.includeMatches,findAllMatches:a=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,isCaseSensitive:u=g.isCaseSensitive,ignoreDiacritics:d=g.ignoreDiacritics,ignoreLocation:f=g.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:i,includeMatches:n,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:u,ignoreDiacritics:d,ignoreLocation:f},e=u?e:e.toLowerCase(),e=d?ae(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const m=(p,x)=>{this.chunks.push({pattern:p,alphabet:$t(p),startIndex:x})},l=this.pattern.length;if(l>J){let p=0;const x=l%J,v=l-x;for(;p<v;)m(this.pattern.substr(p,J),p),p+=J;if(x){const A=l-J;m(this.pattern.substr(A),A)}}else m(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=t?e:e.toLowerCase(),e=r?ae(e):e,this.pattern===e){let v={isMatch:!0,score:0};return i&&(v.indices=[[0,e.length-1]]),v}const{location:n,distance:a,threshold:c,findAllMatches:u,minMatchCharLength:d,ignoreLocation:f}=this.options;let m=[],l=0,p=!1;this.chunks.forEach(({pattern:v,alphabet:A,startIndex:C})=>{const{isMatch:_,score:N,indices:E}=It(e,v,A,{location:n+C,distance:a,threshold:c,findAllMatches:u,minMatchCharLength:d,includeMatches:i,ignoreLocation:f});_&&(p=!0),l+=N,_&&E&&(m=[...m,...E])});let x={isMatch:p,score:p?l/this.chunks.length:1};return p&&i&&(x.indices=m),x}}class U{constructor(e){this.pattern=e}static isMultiMatch(e){return Le(e,this.multiRegex)}static isSingleMatch(e){return Le(e,this.singleRegex)}search(){}}function Le(s,e){const t=s.match(e);return t?t[1]:null}class Pt extends U{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Wt extends U{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Ht extends U{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Kt extends U{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Vt extends U{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Ut extends U{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Ue extends U{constructor(e,{location:t=g.location,threshold:r=g.threshold,distance:i=g.distance,includeMatches:n=g.includeMatches,findAllMatches:a=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,isCaseSensitive:u=g.isCaseSensitive,ignoreDiacritics:d=g.ignoreDiacritics,ignoreLocation:f=g.ignoreLocation}={}){super(e),this._bitapSearch=new Ve(e,{location:t,threshold:r,distance:i,includeMatches:n,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:u,ignoreDiacritics:d,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ge extends U{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,r;const i=[],n=this.pattern.length;for(;(r=e.indexOf(this.pattern,t))>-1;)t=r+n,i.push([r,t-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const me=[Pt,Ge,Ht,Kt,Ut,Vt,Wt,Ue],Se=me.length,Gt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Yt="|";function Qt(s,e={}){return s.split(Yt).map(t=>{let r=t.trim().split(Gt).filter(n=>n&&!!n.trim()),i=[];for(let n=0,a=r.length;n<a;n+=1){const c=r[n];let u=!1,d=-1;for(;!u&&++d<Se;){const f=me[d];let m=f.isMultiMatch(c);m&&(i.push(new f(m,e)),u=!0)}if(!u)for(d=-1;++d<Se;){const f=me[d];let m=f.isSingleMatch(c);if(m){i.push(new f(m,e));break}}}return i})}const Jt=new Set([Ue.type,Ge.type]);class Xt{constructor(e,{isCaseSensitive:t=g.isCaseSensitive,ignoreDiacritics:r=g.ignoreDiacritics,includeMatches:i=g.includeMatches,minMatchCharLength:n=g.minMatchCharLength,ignoreLocation:a=g.ignoreLocation,findAllMatches:c=g.findAllMatches,location:u=g.location,threshold:d=g.threshold,distance:f=g.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:n,findAllMatches:c,ignoreLocation:a,location:u,threshold:d,distance:f},e=t?e:e.toLowerCase(),e=r?ae(e):e,this.pattern=e,this.query=Qt(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:n}=this.options;e=i?e:e.toLowerCase(),e=n?ae(e):e;let a=0,c=[],u=0;for(let d=0,f=t.length;d<f;d+=1){const m=t[d];c.length=0,a=0;for(let l=0,p=m.length;l<p;l+=1){const x=m[l],{isMatch:v,indices:A,score:C}=x.search(e);if(v){if(a+=1,u+=C,r){const _=x.constructor.type;Jt.has(_)?c=[...c,...A]:c.push(A)}}else{u=0,a=0,c.length=0;break}}if(a){let l={isMatch:!0,score:u/a};return r&&(l.indices=c),l}}return{isMatch:!1,score:1}}}const xe=[];function Zt(...s){xe.push(...s)}function _e(s,e){for(let t=0,r=xe.length;t<r;t+=1){let i=xe[t];if(i.condition(s,e))return new i(s,e)}return new Ve(s,e)}const oe={AND:"$and",OR:"$or"},be={PATH:"$path",PATTERN:"$val"},Ae=s=>!!(s[oe.AND]||s[oe.OR]),qt=s=>!!s[be.PATH],es=s=>!H(s)&&Pe(s)&&!Ae(s),Be=s=>({[oe.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function Ye(s,e,{auto:t=!0}={}){const r=i=>{let n=Object.keys(i);const a=qt(i);if(!a&&n.length>1&&!Ae(i))return r(Be(i));if(es(i)){const u=a?i[be.PATH]:n[0],d=a?i[be.PATTERN]:i[u];if(!P(d))throw new Error(Et(u));const f={keyId:ge(u),pattern:d};return t&&(f.searcher=_e(d,e)),f}let c={children:[],operator:n[0]};return n.forEach(u=>{const d=i[u];H(d)&&d.forEach(f=>{c.children.push(r(f))})}),c};return Ae(s)||(s=Be(s)),r(s)}function ts(s,{ignoreFieldNorm:e=g.ignoreFieldNorm}){s.forEach(t=>{let r=1;t.matches.forEach(({key:i,norm:n,score:a})=>{const c=i?i.weight:null;r*=Math.pow(a===0&&c?Number.EPSILON:a,(c||1)*(e?1:n))}),t.score=r})}function ss(s,e){const t=s.matches;e.matches=[],T(t)&&t.forEach(r=>{if(!T(r.indices)||!r.indices.length)return;const{indices:i,value:n}=r;let a={indices:i,value:n};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function rs(s,e){e.score=s.score}function is(s,e,{includeMatches:t=g.includeMatches,includeScore:r=g.includeScore}={}){const i=[];return t&&i.push(ss),r&&i.push(rs),s.map(n=>{const{idx:a}=n,c={item:e[a],refIndex:a};return i.length&&i.forEach(u=>{u(n,c)}),c})}class q{constructor(e,t={},r){this.options={...g,...t},this.options.useExtendedSearch,this._keyStore=new jt(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ye))throw new Error(Ct);this._myIndex=t||Ke(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){T(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let r=0,i=this._docs.length;r<i;r+=1){const n=this._docs[r];e(n,r)&&(this.removeAt(r),r-=1,i-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:n,sortFn:a,ignoreFieldNorm:c}=this.options;let u=P(e)?P(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return ts(u,{ignoreFieldNorm:c}),n&&u.sort(a),$e(t)&&t>-1&&(u=u.slice(0,t)),is(u,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const t=_e(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:n,i:a,n:c})=>{if(!T(n))return;const{isMatch:u,score:d,indices:f}=t.searchIn(n);u&&i.push({item:n,idx:a,matches:[{score:d,value:n,norm:c,indices:f}]})}),i}_searchLogical(e){const t=Ye(e,this.options),r=(c,u,d)=>{if(!c.children){const{keyId:m,searcher:l}=c,p=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(u,m),searcher:l});return p&&p.length?[{idx:d,item:u,matches:p}]:[]}const f=[];for(let m=0,l=c.children.length;m<l;m+=1){const p=c.children[m],x=r(p,u,d);if(x.length)f.push(...x);else if(c.operator===oe.AND)return[]}return f},i=this._myIndex.records,n={},a=[];return i.forEach(({$:c,i:u})=>{if(T(c)){let d=r(t,c,u);d.length&&(n[u]||(n[u]={idx:u,item:c,matches:[]},a.push(n[u])),d.forEach(({matches:f})=>{n[u].matches.push(...f)}))}}),a}_searchObjectList(e){const t=_e(e,this.options),{keys:r,records:i}=this._myIndex,n=[];return i.forEach(({$:a,i:c})=>{if(!T(a))return;let u=[];r.forEach((d,f)=>{u.push(...this._findMatches({key:d,value:a[f],searcher:t}))}),u.length&&n.push({idx:c,item:a,matches:u})}),n}_findMatches({key:e,value:t,searcher:r}){if(!T(t))return[];let i=[];if(H(t))t.forEach(({v:n,i:a,n:c})=>{if(!T(n))return;const{isMatch:u,score:d,indices:f}=r.searchIn(n);u&&i.push({score:d,key:e,value:n,idx:a,norm:c,indices:f})});else{const{v:n,n:a}=t,{isMatch:c,score:u,indices:d}=r.searchIn(n);c&&i.push({score:u,key:e,value:n,norm:a,indices:d})}return i}}q.version="7.1.0";q.createIndex=Ke;q.parseIndex=Tt;q.config=g;q.parseQuery=Ye;Zt(Xt);let I;typeof window<"u"?I=window:typeof self<"u"?I=self:I=global;let we=null,ve=null;const ze=20,fe=I.clearTimeout,Re=I.setTimeout,pe=I.cancelAnimationFrame||I.mozCancelAnimationFrame||I.webkitCancelAnimationFrame,Te=I.requestAnimationFrame||I.mozRequestAnimationFrame||I.webkitRequestAnimationFrame;pe==null||Te==null?(we=fe,ve=function(e){return Re(e,ze)}):(we=function([e,t]){pe(e),fe(t)},ve=function(e){const t=Te(function(){fe(r),e()}),r=Re(function(){pe(t),e()},ze);return[t,r]});function ns(s){let e,t,r,i,n,a,c;const u=typeof document<"u"&&document.attachEvent;if(!u){a=function(C){const _=C.__resizeTriggers__,N=_.firstElementChild,E=_.lastElementChild,S=N.firstElementChild;E.scrollLeft=E.scrollWidth,E.scrollTop=E.scrollHeight,S.style.width=N.offsetWidth+1+"px",S.style.height=N.offsetHeight+1+"px",N.scrollLeft=N.scrollWidth,N.scrollTop=N.scrollHeight},n=function(C){return C.offsetWidth!==C.__resizeLast__.width||C.offsetHeight!==C.__resizeLast__.height},c=function(C){if(C.target.className&&typeof C.target.className.indexOf=="function"&&C.target.className.indexOf("contract-trigger")<0&&C.target.className.indexOf("expand-trigger")<0)return;const _=this;a(this),this.__resizeRAF__&&we(this.__resizeRAF__),this.__resizeRAF__=ve(function(){n(_)&&(_.__resizeLast__.width=_.offsetWidth,_.__resizeLast__.height=_.offsetHeight,_.__resizeListeners__.forEach(function(S){S.call(_,C)}))})};let l=!1,p="";r="animationstart";const x="Webkit Moz O ms".split(" ");let v="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),A="";{const C=document.createElement("fakeelement");if(C.style.animationName!==void 0&&(l=!0),l===!1){for(let _=0;_<x.length;_++)if(C.style[x[_]+"AnimationName"]!==void 0){A=x[_],p="-"+A.toLowerCase()+"-",r=v[_],l=!0;break}}}t="resizeanim",e="@"+p+"keyframes "+t+" { from { opacity: 0; } to { opacity: 0; } } ",i=p+"animation: 1ms "+t+"; "}const d=function(l){if(!l.getElementById("detectElementResize")){const p=(e||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',x=l.head||l.getElementsByTagName("head")[0],v=l.createElement("style");v.id="detectElementResize",v.type="text/css",s!=null&&v.setAttribute("nonce",s),v.styleSheet?v.styleSheet.cssText=p:v.appendChild(l.createTextNode(p)),x.appendChild(v)}};return{addResizeListener:function(l,p){if(u)l.attachEvent("onresize",p);else{if(!l.__resizeTriggers__){const x=l.ownerDocument,v=I.getComputedStyle(l);v&&v.position==="static"&&(l.style.position="relative"),d(x),l.__resizeLast__={},l.__resizeListeners__=[],(l.__resizeTriggers__=x.createElement("div")).className="resize-triggers";const A=x.createElement("div");A.className="expand-trigger",A.appendChild(x.createElement("div"));const C=x.createElement("div");C.className="contract-trigger",l.__resizeTriggers__.appendChild(A),l.__resizeTriggers__.appendChild(C),l.appendChild(l.__resizeTriggers__),a(l),l.addEventListener("scroll",c,!0),r&&(l.__resizeTriggers__.__animationListener__=function(N){N.animationName===t&&a(l)},l.__resizeTriggers__.addEventListener(r,l.__resizeTriggers__.__animationListener__))}l.__resizeListeners__.push(p)}},removeResizeListener:function(l,p){if(u)l.detachEvent("onresize",p);else if(l.__resizeListeners__.splice(l.__resizeListeners__.indexOf(p),1),!l.__resizeListeners__.length){l.removeEventListener("scroll",c,!0),l.__resizeTriggers__.__animationListener__&&(l.__resizeTriggers__.removeEventListener(r,l.__resizeTriggers__.__animationListener__),l.__resizeTriggers__.__animationListener__=null);try{l.__resizeTriggers__=!l.removeChild(l.__resizeTriggers__)}catch{}}}}}class as extends w.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:t,disableWidth:r,onResize:i}=this.props;if(this._parentNode){const n=window.getComputedStyle(this._parentNode)||{},a=parseFloat(n.paddingLeft||"0"),c=parseFloat(n.paddingRight||"0"),u=parseFloat(n.paddingTop||"0"),d=parseFloat(n.paddingBottom||"0"),f=this._parentNode.getBoundingClientRect(),m=f.height-u-d,l=f.width-a-c;if(!t&&this.state.height!==m||!r&&this.state.width!==l){this.setState({height:m,width:l});const p=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof i=="function"&&i({height:m,width:l,get scaledHeight(){return p(),m},get scaledWidth(){return p(),l}})}}},this._setRef=t=>{this._autoSizer=t}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(t!=null&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const r=t.ownerDocument.defaultView.ResizeObserver;r!=null?(this._resizeObserver=new r(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(t)):(this._detectElementResize=ns(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:t,defaultWidth:r,disableHeight:i=!1,disableWidth:n=!1,doNotBailOutOnEmptyChildren:a=!1,nonce:c,onResize:u,style:d={},tagName:f="div",...m}=this.props,{height:l,width:p}=this.state,x={overflow:"visible"},v={};let A=!1;return i||(l===0&&(A=!0),x.height=0,v.height=l,v.scaledHeight=l),n||(p===0&&(A=!0),x.width=0,v.width=p,v.scaledWidth=p),a&&(A=!1),w.createElement(f,{ref:this._setRef,style:{...x,...d},...m},!A&&e(v))}}const Qe=w.forwardRef(({items:s,selectedItem:e,onSelect:t,onCopy:r,onCopyWithToast:i,onPin:n,isPinned:a,overriddenPrice:c,overriddenPrices:u,isExcluded:d,onToggleExclude:f,excludedItems:m,fleaPriceType:l,priceMode:p,traderLevels:x},v)=>{w.useEffect(()=>{Array.isArray(s)||console.debug("Items prop is not an array, defaulting to empty array")},[s]);const[A,C]=w.useState(""),[_,N]=w.useState(!1);w.useImperativeHandle(v,()=>({focus:()=>{O.current?.focus()}}));const[E,S]=w.useState(""),[z,k]=w.useState(!1),[j,R]=w.useState(-1),O=w.useRef(null),X=w.useRef(null),K=w.useMemo(()=>({prapor:"https://assets.tarkov.dev/54cb50c76803fa8b248b4571.webp",therapist:"https://assets.tarkov.dev/54cb57776803fa99248b456e.webp",skier:"https://assets.tarkov.dev/58330581ace78e27b8b10cee.webp",peacekeeper:"https://assets.tarkov.dev/5935c25fb3acc3127c3d8cd9.webp",mechanic:"https://assets.tarkov.dev/5a7c2eca46aef81a7ca2145d.webp",ragman:"https://assets.tarkov.dev/5ac3b934156ae10c4430e83c.webp",jaeger:"https://assets.tarkov.dev/5c0647fdd443bc2504c2d371.webp"}),[]),ee=w.useCallback(h=>[h.name,h.shortName,h.englishName,h.englishShortName].filter(Boolean),[]),D=w.useMemo(()=>new Set(Array.from(m,h=>h.toLowerCase())),[m]),B=w.useCallback(h=>{if(!h)return{price:null};if(p==="flea"){const F=h[l];return{price:typeof F=="number"?F:null}}const b=h.buyFor??[];let y=null;for(const F of b){const $=F.vendor?.normalizedName,L=F.vendor&&"minTraderLevel"in F.vendor?F.vendor.minTraderLevel:void 0;if(!$)continue;const re=$,ie=x[re];if(ie===void 0||L!==void 0&&L>ie)continue;const ue=F.priceRUB;typeof ue=="number"&&(y===null||ue>y.price)&&(y={price:ue,vendorName:re,minTraderLevel:L})}return y?{price:y.price,vendorName:y.vendorName,minTraderLevel:y.minTraderLevel}:{price:null}},[l,p,x]);w.useEffect(()=>{let h=!1;return Promise.resolve().then(()=>{if(!h)if(e&&c!==void 0){const b=c.toString();k(!0),S(b)}else k(!1),S("")}),()=>{h=!0}},[e,c]);const Z=w.useMemo(()=>{const h=Array.isArray(s)?s:[];try{return new q(h,{keys:[{name:"name",weight:.7},{name:"shortName",weight:.3}],threshold:.4,includeScore:!0,ignoreLocation:!0,minMatchCharLength:1})}catch(b){return console.debug("Fuse initialization error or empty items array",b),null}},[s]),[G,Je]=w.useState(A);w.useEffect(()=>{const h=setTimeout(()=>{Je(A)},300);return()=>{clearTimeout(h)}},[A]);const M=w.useMemo(()=>{const h=Array.isArray(s)?s:[];if(h.length===0)return[];let b;if(_&&!G)b=h.filter(y=>y.basePrice>0);else if(G)Z?b=Z.search(G).map(y=>y.item).filter(y=>y.basePrice>0):b=h;else return[];return b.filter(y=>y.basePrice>0&&!ee(y).some(F=>D.has(F.toLowerCase())))},[G,D,Z,ee,_,s]),se=w.useMemo(()=>{const h=A.trim().toLowerCase();if(!h)return null;const b=Array.isArray(s)?s:[];for(const y of b){if(y.basePrice<=0)continue;const F=ee(y);if(F.some(L=>L.toLowerCase().startsWith(h))&&!F.some(L=>D.has(L.toLowerCase())))return y}return null},[D,ee,s,A]),V=se?.name??"",Y=!!V&&V.toLowerCase()!==A.trim().toLowerCase(),Xe=Y?V.slice(Math.min(V.length,A.trim().length)):"";w.useEffect(()=>{let h=-1;_&&M.length>0&&(h=0);let b=!1;return Promise.resolve().then(()=>{b||R(h)}),()=>{b=!0}},[G,M.length,_]),w.useEffect(()=>{!_||j<0||X.current?.scrollToItem(j)},[j,_]);const Q=w.useCallback(h=>{let b;h&&(c!==void 0?b=c:E&&(b=Number(E))),t(h,b),C(""),N(!1),S(b!=null?b.toString():"")},[t,c,E]),Ze=w.useCallback(()=>{a&&n(),Q(null)},[a,n,Q]),Ce=w.useCallback(()=>{S(""),k(!1),e&&t(e,null)},[t,e]),qe=w.useCallback(()=>{z?(k(!1),e&&(t(e,null),S(""))):(k(!0),e&&c!==void 0&&S(c.toString()))},[z,e,c,t]);w.useEffect(()=>{const h=setTimeout(()=>{if(!e||!z||!E)return;const b=Number(E)||0;c!==void 0&&c===b||t(e,b)},500);return()=>clearTimeout(h)},[E,e,z,c,t]);const et=w.useCallback(h=>{const b=h.target.value;/^\d*$/.test(b)&&S(b)},[]),Ee=w.useCallback(()=>{r(),i?i():rt("Name Copied",{description:e?`${e.name} copied to clipboard`:"Item copied to clipboard"})},[r,i,e]),le=w.useCallback(()=>Y?(C(V),requestAnimationFrame(()=>{const h=V.length;O.current?.setSelectionRange(h,h)}),!0):!1,[Y,V]),tt=w.useCallback(h=>{if(h.key==="ArrowDown"){if(!M.length)return;h.preventDefault(),R(b=>M.length===0?-1:b<0||b>=M.length-1?0:b+1);return}if(h.key==="ArrowUp"){if(!M.length)return;h.preventDefault(),R(b=>M.length===0?-1:b<=0?M.length-1:Math.max(b-1,0));return}if(h.key==="Enter"){if(j>=0&&M[j]){h.preventDefault(),Q(M[j]);return}se&&(h.preventDefault(),Q(se));return}if(h.key==="Tab"){le()&&h.preventDefault();return}if(h.key==="ArrowRight"&&Y&&O.current&&O.current.selectionStart===O.current.value.length&&O.current.selectionEnd===O.current.value.length){h.preventDefault(),le();return}h.key==="Escape"&&(A?(h.preventDefault(),C("")):(O.current?.blur(),N(!1)))},[le,M,Q,Y,j,se,A]),Ne=w.useCallback(h=>{const b=G.trim();if(!b)return h;const y=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),F=new RegExp(`(${y})`,"ig");return h.split(F).map(($,L)=>$?L%2===1?o.jsx("span",{className:"text-primary",children:$},`${$}-${L}`):o.jsx("span",{children:$},`${$}-${L}`):o.jsx(Oe.Fragment,{},`empty-${L}`))},[G]),st=w.useCallback(({index:h,style:b})=>{const y=M[h],F=u[y.id],$=B(y),L=F!==void 0?F:$.price??null,re=F!==void 0;return o.jsxs("div",{style:b,onMouseDown:ie=>ie.preventDefault(),onClick:()=>Q(y),className:W("group px-3 py-2 cursor-pointer flex items-center transition-all active:scale-[0.98]",j===h?"bg-white/10":"hover:bg-white/5"),onMouseEnter:()=>R(h),children:[y.iconLink&&o.jsx("div",{className:"relative p-1 bg-white/5 border border-white/10 rounded-md mr-3 group-hover:border-primary/30 transition-colors",children:o.jsx("img",{src:y.iconLink,alt:y.name,className:"w-10 h-10 object-contain"})}),o.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[o.jsx("span",{className:"truncate font-semibold text-sm text-slate-100 group-hover:text-primary transition-colors",children:Ne(y.name)}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("span",{className:"text-[10px] font-extrabold text-emerald-500/90 uppercase tracking-wider",children:["₽",(y.basePrice||0).toLocaleString()]}),o.jsx("span",{className:"h-0.5 w-0.5 rounded-full bg-white/10"}),o.jsxs("span",{className:W("text-[9px] font-semibold uppercase tracking-widest opacity-60",re?"text-amber-400/80":"text-primary/90"),children:[p==="flea"?"Flea":"Trader",":"," ",typeof L=="number"?`₽${L.toLocaleString()}`:"N/A"]})]})]})]})},[M,B,Q,Ne,j,u,p]);return o.jsx(it,{children:o.jsx("div",{className:"relative w-full",children:e?o.jsxs("div",{className:W("relative group bg-black/40 backdrop-blur-xl border rounded-xl overflow-hidden transition-all duration-300",a?"border-amber-500/50 shadow-[0_0_20px_rgba(245,158,11,0.1)]":"border-white/10 hover:border-white/20"),children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center p-3 sm:p-4 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[o.jsx("div",{className:"relative shrink-0 w-16 h-16 sm:w-20 sm:h-20 bg-white/5 border border-white/10 rounded-lg flex items-center justify-center group-hover:border-primary/30 transition-colors",children:o.jsx(ot,{item:e,iconUrl:e.iconLink||void 0,children:o.jsx("img",{src:e.iconLink||void 0,alt:e.name,className:"w-full h-full object-contain p-1"})})}),o.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1.5",children:[o.jsx("h3",{className:"text-white font-bold text-sm sm:text-base truncate tracking-tight",children:e.name}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-extrabold text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded uppercase tracking-wider flex items-center shadow-[0_0_15px_rgba(16,185,129,0.05)] border border-emerald-500/20",children:["Base: ",(e.basePrice||0).toLocaleString()]}),z?o.jsxs("div",{className:"flex items-center gap-1.5 bg-amber-500/10 border border-amber-500/40 rounded-md px-2 py-0.5 ring-1 ring-amber-500/20",children:[o.jsx("span",{className:"text-[10px] text-amber-400 font-bold",children:"₽"}),o.jsx("input",{autoFocus:!0,type:"text",value:E,onChange:et,onKeyDown:h=>{h.key==="Enter"&&(e&&t(e,Number(E)||0),k(!1)),h.key==="Escape"&&Ce()},className:"w-20 bg-transparent text-[10px] font-bold text-amber-400 outline-none placeholder:text-amber-400/30 font-mono",placeholder:"Manual..."}),o.jsx("button",{onClick:h=>{h.stopPropagation(),Ce()},className:"text-amber-400/60 hover:text-red-400 transition-colors ml-1",children:o.jsx(ct,{className:"h-3 w-3"})})]}):o.jsxs("div",{onClick:h=>{h.stopPropagation(),qe()},className:W("flex items-center gap-1 px-1.5 py-0.5 rounded border text-[9px] font-semibold uppercase tracking-widest cursor-pointer hover:scale-[1.03] active:scale-[0.97] transition-all",z?"bg-amber-500/15 border-amber-500/40 text-amber-400 opacity-100 ring-1 ring-amber-500/20":"bg-primary/5 border-primary/20 text-primary/90 opacity-80 hover:opacity-100 hover:border-primary/40 hover:bg-primary/10"),children:[o.jsx("span",{className:"text-[8px] text-white/60 mr-0.5",children:p==="flea"?"Flea":"Trader"}),o.jsx("span",{children:((z&&E?Number(E):null)??u[e.id]??B(e).price??null)!==null?`₽${((z&&E?Number(E):null)??u[e.id]??B(e).price??0).toLocaleString()}`:"N/A"}),o.jsx(bt,{className:W("h-2 w-2 ml-1 transition-opacity",z?"opacity-100":"opacity-40")})]})]})]})]}),o.jsx("div",{className:"flex items-center justify-between sm:justify-end gap-1.5 sm:gap-1 pl-0 sm:pl-2 pt-2 sm:pt-0 border-t sm:border-t-0 border-white/5",children:o.jsxs("div",{className:"flex items-center gap-1 bg-white/5 border border-white/10 rounded-lg p-0.5 h-9 sm:h-auto",children:[o.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[o.jsx(te,{icon:o.jsx(ke,{className:"h-3.5 w-3.5"}),onClick:Ee,tooltip:"Copy name"}),e.link&&o.jsx(te,{icon:o.jsx(Fe,{className:"h-3.5 w-3.5"}),onClick:()=>window.open(e.link,"_blank"),tooltip:"View on Tarkov.dev"}),o.jsx("div",{className:"w-px h-4 bg-white/10 mx-0.5"})]}),o.jsx(te,{icon:o.jsx(_t,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),onClick:n,active:a,activeClass:"text-amber-400 bg-amber-500/10",tooltip:a?"Unpin item":"Pin item",className:"h-8 w-8 sm:h-7 sm:w-7"}),o.jsx("div",{className:"hidden sm:flex items-center",children:o.jsx(te,{icon:o.jsx(je,{className:"h-3.5 w-3.5"}),onClick:f,active:d,activeClass:"text-red-400 bg-red-500/10",tooltip:d?"Include in auto-pick":"Exclude from auto-pick"})}),o.jsx("div",{className:"w-px h-4 bg-white/10 mx-0.5"}),o.jsx("div",{className:"flex sm:hidden",children:o.jsxs(lt,{children:[o.jsx(ut,{asChild:!0,children:o.jsx(Ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white/40 hover:text-white",children:o.jsx(xt,{className:"h-4 w-4"})})}),o.jsxs(ht,{align:"end",className:"w-48 bg-black/90 border-white/10 backdrop-blur-xl",children:[o.jsxs(he,{onClick:Ee,className:"gap-2 text-white/70 focus:text-white focus:bg-white/10",children:[o.jsx(ke,{className:"h-4 w-4"}),o.jsx("span",{children:"Copy Name"})]}),e.link&&o.jsxs(he,{onClick:()=>window.open(e.link,"_blank"),className:"gap-2 text-white/70 focus:text-white focus:bg-white/10",children:[o.jsx(Fe,{className:"h-4 w-4"}),o.jsx("span",{children:"View on Tarkov.dev"})]}),o.jsxs(he,{onClick:f,className:W("gap-2 focus:bg-white/10",d?"text-red-400 focus:text-red-300":"text-white/70 focus:text-white"),children:[o.jsx(je,{className:"h-4 w-4"}),o.jsx("span",{children:d?"Include in Autopick":"Exclude from Autopick"})]})]})]})}),o.jsx(te,{icon:o.jsx(dt,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),onClick:Ze,className:"h-8 w-8 sm:h-7 sm:w-7 text-red-400 hover:bg-red-500/10",tooltip:"Remove"})]})})]}),o.jsxs("div",{className:"px-3 sm:px-4 pb-3 flex items-center gap-3 text-[10px] text-white/30 font-medium",children:[p==="trader"&&B(e).vendorName&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("img",{src:K[B(e).vendorName],alt:"",className:"w-3.5 h-3.5 rounded-full ring-1 ring-white/10"}),o.jsxs("span",{className:"capitalize",children:[B(e).vendorName,B(e).minTraderLevel?` L${B(e).minTraderLevel}`:""]})]}),p==="flea"&&e.updated&&o.jsxs("span",{children:["Updated ",ft(e.updated.toString())]}),d&&o.jsx("span",{className:"text-red-400 font-bold uppercase tracking-wider",children:"Excluded from Autopick"})]})]}):o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:W("flex items-center gap-3 px-4 py-3 bg-black/40 backdrop-blur-xl border transition-all duration-200 rounded-xl",_?"border-primary/50 shadow-[0_0_20px_rgba(0,255,255,0.1)]":"border-white/10"),children:[o.jsx(nt,{className:W("h-4 w-4 transition-colors",_?"text-primary":"text-white/30")}),o.jsxs("div",{className:"relative flex-1",children:[_&&Y&&o.jsxs("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-y-0 left-0 flex items-center text-sm font-medium text-white/25",children:[o.jsx("span",{className:"text-transparent",children:A}),o.jsx("span",{children:Xe})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{ref:O,onFocus:()=>N(!0),onBlur:()=>setTimeout(()=>N(!1),200),type:"text",value:A,onKeyDown:tt,onChange:h=>C(h.target.value),placeholder:"Search items...",className:"relative z-10 w-full bg-transparent text-sm text-white placeholder:text-white/20 outline-none font-medium"}),!_&&!A&&o.jsx("div",{className:"hidden sm:flex items-center absolute right-0 pointer-events-none",children:o.jsx("span",{className:"text-[10px] font-bold text-white/20 border border-white/10 bg-white/5 px-1.5 py-0.5 rounded-md uppercase tracking-tighter",children:"/"})})]})]})]}),_&&Y&&o.jsxs("div",{className:"flex items-center gap-2 px-4 pt-2 text-[11px] text-white/50",children:[o.jsx("span",{className:"rounded border border-white/15 bg-white/5 px-1.5 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-white/70",children:"Tab"}),o.jsxs("span",{className:"truncate",children:['Autocomplete to "',V,'"']})]}),_&&o.jsx("div",{className:"absolute top-full left-0 right-0 z-[100] bg-black/80 backdrop-blur-2xl border border-white/10 rounded-xl shadow-2xl overflow-hidden",children:o.jsxs("div",{className:"max-h-[320px]",children:[o.jsx(as,{disableHeight:!0,children:({width:h})=>o.jsx(at,{ref:X,height:Math.min(M.length*56||200,320),itemCount:M.length,itemSize:56,width:h,children:st})}),M.length===0&&o.jsx("div",{className:"p-8 text-center text-white/30 text-sm font-medium",children:"No items matching your search"})]})})]})})})});Qe.displayName="ItemSelector";const te=({icon:s,onClick:e,tooltip:t,active:r,activeClass:i,className:n})=>o.jsxs(pt,{children:[o.jsx(gt,{asChild:!0,children:o.jsx(Ie,{size:"icon",variant:"ghost",onClick:a=>{a.stopPropagation(),e()},className:W("h-7 w-7 rounded-md text-white/40 hover:text-white hover:bg-white/10 transition-all",r&&i,n),children:s})}),o.jsx(mt,{side:"top",className:"text-[10px] px-2 py-1",children:t})]}),cs=Oe.memo(Qe);export{cs as default};
//# sourceMappingURL=item-selector-CvK9_1rg.js.map
